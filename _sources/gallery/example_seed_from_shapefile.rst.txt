
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "gallery/example_seed_from_shapefile.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_gallery_example_seed_from_shapefile.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_gallery_example_seed_from_shapefile.py:


Seeding from shapefile
==================================

.. GENERATED FROM PYTHON SOURCE LINES 6-15

.. code-block:: Python


    from datetime import datetime
    import geopandas as gpd
    from opendrift import test_data_folder
    from opendrift.models.oceandrift import OceanDrift


    o = OceanDrift(loglevel=20)  # Set loglevel to 0 for debug information





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    12:32:31 INFO    opendrift:509: OpenDriftSimulation initialised (version 1.14.2 / v1.14.2-12-g4a7aa83)




.. GENERATED FROM PYTHON SOURCE LINES 16-17

Seed particles within all polygons from shapefile

.. GENERATED FROM PYTHON SOURCE LINES 17-22

.. code-block:: Python

    o.seed_from_shapefile(test_data_folder +
                          'shapefile_spawning_areas/Torsk.shp',
                          number=1000, time=datetime.utcnow())






.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    /root/project/examples/example_seed_from_shapefile.py:19: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
      number=1000, time=datetime.utcnow())
    12:32:31 INFO    opendrift.models.basemodel.environment:206: Adding a global landmask from GSHHG
    12:32:35 INFO    opendrift.models.basemodel.environment:229: Fallback values will be used for the following variables which have no readers: 
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    x_sea_water_velocity: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    y_sea_water_velocity: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    sea_surface_height: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    x_wind: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    y_wind: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    upward_sea_water_velocity: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    ocean_vertical_diffusivity: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    sea_surface_wave_significant_height: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    sea_surface_wave_stokes_drift_x_velocity: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    sea_surface_wave_stokes_drift_y_velocity: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    sea_surface_wave_period_at_variance_spectral_density_maximum: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    sea_surface_wave_mean_period_from_variance_spectral_density_second_frequency_moment: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    sea_surface_swell_wave_to_direction: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    sea_surface_swell_wave_peak_period_from_variance_spectral_density: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    sea_surface_swell_wave_significant_height: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    sea_surface_wind_wave_to_direction: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    sea_surface_wind_wave_mean_period: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    sea_surface_wind_wave_significant_height: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    surface_downward_x_stress: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    surface_downward_y_stress: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    turbulent_kinetic_energy: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    turbulent_generic_length_scale: 0.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    ocean_mixed_layer_thickness: 50.000000
    12:32:35 INFO    opendrift.models.basemodel.environment:232:    sea_floor_depth_below_sea_level: 10000.000000
    12:32:35 INFO    opendrift:1520: Seeding 1000 elements within 8 polygons
    12:32:35 INFO    opendrift:1532: Seeding 88 elements within polygon number 1 of area 16914.1561363245 km2
    12:32:35 INFO    opendrift:1532: Seeding 114 elements within polygon number 2 of area 22025.651607662567 km2
    12:32:35 INFO    opendrift:1532: Seeding 613 elements within polygon number 3 of area 118549.4287716422 km2
    12:32:35 INFO    opendrift:1532: Seeding 18 elements within polygon number 4 of area 3429.86024645089 km2
    12:32:35 INFO    opendrift:1532: Seeding 23 elements within polygon number 5 of area 4460.511714037541 km2
    12:32:35 INFO    opendrift:1532: Seeding 81 elements within polygon number 6 of area 15582.701473774634 km2
    12:32:35 INFO    opendrift:1532: Seeding 24 elements within polygon number 7 of area 4696.037566369465 km2
    12:32:35 INFO    opendrift:1532: Seeding 39 elements within polygon number 8 of area 7617.026431077248 km2




.. GENERATED FROM PYTHON SOURCE LINES 23-24

Alternative by using GeoPandas and selecting a subset of two polygons

.. GENERATED FROM PYTHON SOURCE LINES 24-29

.. code-block:: Python

    gdf = gpd.read_file(test_data_folder + 'shapefile_spawning_areas/Torsk.shp')
    gdf = gdf.iloc[[1, 5]]
    o.seed_from_geopandas(gdf, number=2000, time=datetime.utcnow())

    o.plot(fast=True)



.. image-sg:: /gallery/images/sphx_glr_example_seed_from_shapefile_001.png
   :alt: OpenDrift - OceanDrift 3000 elements seeded at 2025-05-22 12:32 UTC
   :srcset: /gallery/images/sphx_glr_example_seed_from_shapefile_001.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    /root/project/examples/example_seed_from_shapefile.py:26: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
      o.seed_from_geopandas(gdf, number=2000, time=datetime.utcnow())
    12:32:35 INFO    opendrift:1520: Seeding 2000 elements within 2 polygons
    12:32:35 INFO    opendrift:1532: Seeding 1171 elements within polygon number 1 of area 22025.651607662567 km2
    12:32:35 INFO    opendrift:1532: Seeding 829 elements within polygon number 2 of area 15582.701473774634 km2
    12:32:35 WARNING opendrift:2480: Plotting fast. This will make your plots less accurate.

    (<GeoAxes: title={'center': 'OpenDrift - OceanDrift\n3000 elements seeded at 2025-05-22 12:32 UTC'}>, <Figure size 719.781x1100 with 1 Axes>)




.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 11.541 seconds)


.. _sphx_glr_download_gallery_example_seed_from_shapefile.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: example_seed_from_shapefile.ipynb <example_seed_from_shapefile.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: example_seed_from_shapefile.py <example_seed_from_shapefile.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: example_seed_from_shapefile.zip <example_seed_from_shapefile.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
