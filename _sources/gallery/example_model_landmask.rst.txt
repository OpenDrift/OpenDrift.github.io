
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "gallery/example_model_landmask.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_gallery_example_model_landmask.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_gallery_example_model_landmask.py:


Model landmask
===============================

Comparing two simulation runs, with landmask from ocean model and GSHHG

.. GENERATED FROM PYTHON SOURCE LINES 8-21

.. code-block:: default


    from datetime import timedelta

    from opendrift.readers import reader_ROMS_native
    from opendrift.models.oceandrift import OceanDrift

    lon = 14.75; lat = 68.1

    o = OceanDrift(loglevel=20)

    reader_nordic = reader_ROMS_native.Reader(o.test_data_folder() +
        '2Feb2016_Nordic_sigma_3d/Nordic-4km_SLEVELS_avg_00_subset2Feb2016.nc')





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    10:54:40 INFO    opendrift.models.basemodel: OpenDriftSimulation initialised (version 1.5.6 / v1.5.6-148-ga31b2db)
    10:54:40 INFO    opendrift.readers.reader_ROMS_native: Opening dataset: /root/project/tests/test_data/2Feb2016_Nordic_sigma_3d/Nordic-4km_SLEVELS_avg_00_subset2Feb2016.nc
    10:54:40 INFO    opendrift.readers.reader_ROMS_native: Opening file with Dataset
    10:54:40 INFO    opendrift.readers.reader_ROMS_native: Read GLS parameters from file.
    10:54:40 WARNING opendrift.readers.basereader.structured: No proj string or projection could be derived, using 'fakeproj'. This assumes that the variables are structured and gridded approximately equidistantly on the surface (i.e. in meters). This must be guaranteed by the user. You can get rid of this warning by suppling a valid projection to the reader.
    10:54:40 INFO    opendrift.readers.basereader.structured: Making interpolator for lon,lat to x,y conversion...




.. GENERATED FROM PYTHON SOURCE LINES 22-23

First run, with default GSHHG vector landmask

.. GENERATED FROM PYTHON SOURCE LINES 23-29

.. code-block:: default

    o.add_reader([reader_nordic])
    time = reader_nordic.start_time
    o.seed_elements(lon, lat, radius=3000, number=1000, time=time)
    o.set_config('general:use_auto_landmask', True)
    o.run(end_time=reader_nordic.end_time, time_step=1800, time_step_output=3*3600)





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    10:54:41 INFO    opendrift.models.basemodel: Fallback values will be used for the following variables which have no readers: 
    10:54:41 INFO    opendrift.models.basemodel:    x_wind: 0.000000
    10:54:41 INFO    opendrift.models.basemodel:    y_wind: 0.000000
    10:54:41 INFO    opendrift.models.basemodel:    upward_sea_water_velocity: 0.000000
    10:54:41 INFO    opendrift.models.basemodel:    ocean_vertical_diffusivity: 0.000000
    10:54:41 INFO    opendrift.models.basemodel:    sea_surface_wave_significant_height: 0.000000
    10:54:41 INFO    opendrift.models.basemodel:    sea_surface_wave_stokes_drift_x_velocity: 0.000000
    10:54:41 INFO    opendrift.models.basemodel:    sea_surface_wave_stokes_drift_y_velocity: 0.000000
    10:54:41 INFO    opendrift.models.basemodel:    sea_surface_wave_period_at_variance_spectral_density_maximum: 0.000000
    10:54:41 INFO    opendrift.models.basemodel:    sea_surface_wave_mean_period_from_variance_spectral_density_second_frequency_moment: 0.000000
    10:54:41 INFO    opendrift.models.basemodel:    surface_downward_x_stress: 0.000000
    10:54:41 INFO    opendrift.models.basemodel:    surface_downward_y_stress: 0.000000
    10:54:41 INFO    opendrift.models.basemodel:    turbulent_kinetic_energy: 0.000000
    10:54:41 INFO    opendrift.models.basemodel:    turbulent_generic_length_scale: 0.000000
    10:54:41 INFO    opendrift.models.basemodel: Adding a dynamical landmask with max. priority based on assumed maximum speed of 1 m/s. Adding a customised landmask may be faster...
    10:54:43 INFO    opendrift.models.basemodel: Using existing reader for land_binary_mask
    10:54:43 INFO    opendrift.models.basemodel: Moving 3 out of 1000 points from land to water
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 12:00:00 - step 1 of 96 - 1000 active elements (0 deactivated)
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 12:30:00 - step 2 of 96 - 1000 active elements (0 deactivated)
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 13:00:00 - step 3 of 96 - 996 active elements (4 deactivated)
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 13:30:00 - step 4 of 96 - 994 active elements (6 deactivated)
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 14:00:00 - step 5 of 96 - 992 active elements (8 deactivated)
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 14:30:00 - step 6 of 96 - 992 active elements (8 deactivated)
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 15:00:00 - step 7 of 96 - 992 active elements (8 deactivated)
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 15:30:00 - step 8 of 96 - 990 active elements (10 deactivated)
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 16:00:00 - step 9 of 96 - 989 active elements (11 deactivated)
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 16:30:00 - step 10 of 96 - 988 active elements (12 deactivated)
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 17:00:00 - step 11 of 96 - 988 active elements (12 deactivated)
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 17:30:00 - step 12 of 96 - 986 active elements (14 deactivated)
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 18:00:00 - step 13 of 96 - 986 active elements (14 deactivated)
    10:54:43 INFO    opendrift.models.basemodel: 2016-02-02 18:30:00 - step 14 of 96 - 985 active elements (15 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-02 19:00:00 - step 15 of 96 - 985 active elements (15 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-02 19:30:00 - step 16 of 96 - 985 active elements (15 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-02 20:00:00 - step 17 of 96 - 985 active elements (15 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-02 20:30:00 - step 18 of 96 - 985 active elements (15 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-02 21:00:00 - step 19 of 96 - 985 active elements (15 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-02 21:30:00 - step 20 of 96 - 984 active elements (16 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-02 22:00:00 - step 21 of 96 - 982 active elements (18 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-02 22:30:00 - step 22 of 96 - 982 active elements (18 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-02 23:00:00 - step 23 of 96 - 982 active elements (18 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-02 23:30:00 - step 24 of 96 - 982 active elements (18 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 00:00:00 - step 25 of 96 - 982 active elements (18 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 00:30:00 - step 26 of 96 - 982 active elements (18 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 01:00:00 - step 27 of 96 - 982 active elements (18 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 01:30:00 - step 28 of 96 - 981 active elements (19 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 02:00:00 - step 29 of 96 - 981 active elements (19 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 02:30:00 - step 30 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 03:00:00 - step 31 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 03:30:00 - step 32 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 04:00:00 - step 33 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 04:30:00 - step 34 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 05:00:00 - step 35 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 05:30:00 - step 36 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 06:00:00 - step 37 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 06:30:00 - step 38 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 07:00:00 - step 39 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 07:30:00 - step 40 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 08:00:00 - step 41 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 08:30:00 - step 42 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 09:00:00 - step 43 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 09:30:00 - step 44 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 10:00:00 - step 45 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 10:30:00 - step 46 of 96 - 980 active elements (20 deactivated)
    10:54:44 INFO    opendrift.models.basemodel: 2016-02-03 11:00:00 - step 47 of 96 - 980 active elements (20 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 11:30:00 - step 48 of 96 - 980 active elements (20 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 12:00:00 - step 49 of 96 - 980 active elements (20 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 12:30:00 - step 50 of 96 - 979 active elements (21 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 13:00:00 - step 51 of 96 - 979 active elements (21 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 13:30:00 - step 52 of 96 - 979 active elements (21 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 14:00:00 - step 53 of 96 - 978 active elements (22 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 14:30:00 - step 54 of 96 - 976 active elements (24 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 15:00:00 - step 55 of 96 - 974 active elements (26 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 15:30:00 - step 56 of 96 - 974 active elements (26 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 16:00:00 - step 57 of 96 - 974 active elements (26 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 16:30:00 - step 58 of 96 - 974 active elements (26 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 17:00:00 - step 59 of 96 - 972 active elements (28 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 17:30:00 - step 60 of 96 - 971 active elements (29 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 18:00:00 - step 61 of 96 - 970 active elements (30 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 18:30:00 - step 62 of 96 - 968 active elements (32 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 19:00:00 - step 63 of 96 - 967 active elements (33 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 19:30:00 - step 64 of 96 - 966 active elements (34 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 20:00:00 - step 65 of 96 - 965 active elements (35 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 20:30:00 - step 66 of 96 - 965 active elements (35 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 21:00:00 - step 67 of 96 - 962 active elements (38 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 21:30:00 - step 68 of 96 - 960 active elements (40 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 22:00:00 - step 69 of 96 - 957 active elements (43 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 22:30:00 - step 70 of 96 - 955 active elements (45 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 23:00:00 - step 71 of 96 - 953 active elements (47 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-03 23:30:00 - step 72 of 96 - 950 active elements (50 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-04 00:00:00 - step 73 of 96 - 947 active elements (53 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-04 00:30:00 - step 74 of 96 - 945 active elements (55 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-04 01:00:00 - step 75 of 96 - 942 active elements (58 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-04 01:30:00 - step 76 of 96 - 938 active elements (62 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-04 02:00:00 - step 77 of 96 - 930 active elements (70 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-04 02:30:00 - step 78 of 96 - 926 active elements (74 deactivated)
    10:54:45 INFO    opendrift.models.basemodel: 2016-02-04 03:00:00 - step 79 of 96 - 922 active elements (78 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 03:30:00 - step 80 of 96 - 918 active elements (82 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 04:00:00 - step 81 of 96 - 910 active elements (90 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 04:30:00 - step 82 of 96 - 903 active elements (97 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 05:00:00 - step 83 of 96 - 899 active elements (101 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 05:30:00 - step 84 of 96 - 896 active elements (104 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 06:00:00 - step 85 of 96 - 889 active elements (111 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 06:30:00 - step 86 of 96 - 878 active elements (122 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 07:00:00 - step 87 of 96 - 872 active elements (128 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 07:30:00 - step 88 of 96 - 865 active elements (135 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 08:00:00 - step 89 of 96 - 858 active elements (142 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 08:30:00 - step 90 of 96 - 851 active elements (149 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 09:00:00 - step 91 of 96 - 849 active elements (151 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 09:30:00 - step 92 of 96 - 840 active elements (160 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 10:00:00 - step 93 of 96 - 835 active elements (165 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 10:30:00 - step 94 of 96 - 830 active elements (170 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 11:00:00 - step 95 of 96 - 822 active elements (178 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-04 11:30:00 - step 96 of 96 - 818 active elements (182 deactivated)




.. GENERATED FROM PYTHON SOURCE LINES 30-31

Second run, with landmask from ocean model

.. GENERATED FROM PYTHON SOURCE LINES 31-38

.. code-block:: default

    o2 = OceanDrift(loglevel=20)
    o2.add_reader([reader_nordic])
    lon = 14.75; lat = 68.1
    o2.seed_elements(lon, lat, radius=3000, number=1000, time=time)
    o2.set_config('general:use_auto_landmask', False)
    o2.run(end_time=reader_nordic.end_time, time_step=1800, time_step_output=3*3600)





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    10:54:46 INFO    opendrift.models.basemodel: OpenDriftSimulation initialised (version 1.5.6 / v1.5.6-148-ga31b2db)
    10:54:46 INFO    opendrift.models.basemodel: Fallback values will be used for the following variables which have no readers: 
    10:54:46 INFO    opendrift.models.basemodel:    x_wind: 0.000000
    10:54:46 INFO    opendrift.models.basemodel:    y_wind: 0.000000
    10:54:46 INFO    opendrift.models.basemodel:    upward_sea_water_velocity: 0.000000
    10:54:46 INFO    opendrift.models.basemodel:    ocean_vertical_diffusivity: 0.000000
    10:54:46 INFO    opendrift.models.basemodel:    sea_surface_wave_significant_height: 0.000000
    10:54:46 INFO    opendrift.models.basemodel:    sea_surface_wave_stokes_drift_x_velocity: 0.000000
    10:54:46 INFO    opendrift.models.basemodel:    sea_surface_wave_stokes_drift_y_velocity: 0.000000
    10:54:46 INFO    opendrift.models.basemodel:    sea_surface_wave_period_at_variance_spectral_density_maximum: 0.000000
    10:54:46 INFO    opendrift.models.basemodel:    sea_surface_wave_mean_period_from_variance_spectral_density_second_frequency_moment: 0.000000
    10:54:46 INFO    opendrift.models.basemodel:    surface_downward_x_stress: 0.000000
    10:54:46 INFO    opendrift.models.basemodel:    surface_downward_y_stress: 0.000000
    10:54:46 INFO    opendrift.models.basemodel:    turbulent_kinetic_energy: 0.000000
    10:54:46 INFO    opendrift.models.basemodel:    turbulent_generic_length_scale: 0.000000
    10:54:46 INFO    opendrift.models.basemodel: Using existing reader for land_binary_mask
    10:54:46 INFO    opendrift.models.basemodel: All points are in ocean
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-02 12:00:00 - step 1 of 96 - 1000 active elements (0 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-02 12:30:00 - step 2 of 96 - 1000 active elements (0 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-02 13:00:00 - step 3 of 96 - 1000 active elements (0 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-02 13:30:00 - step 4 of 96 - 998 active elements (2 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-02 14:00:00 - step 5 of 96 - 998 active elements (2 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-02 14:30:00 - step 6 of 96 - 997 active elements (3 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-02 15:00:00 - step 7 of 96 - 994 active elements (6 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-02 15:30:00 - step 8 of 96 - 991 active elements (9 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-02 16:00:00 - step 9 of 96 - 989 active elements (11 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-02 16:30:00 - step 10 of 96 - 987 active elements (13 deactivated)
    10:54:46 INFO    opendrift.models.basemodel: 2016-02-02 17:00:00 - step 11 of 96 - 980 active elements (20 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-02 17:30:00 - step 12 of 96 - 974 active elements (26 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-02 18:00:00 - step 13 of 96 - 968 active elements (32 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-02 18:30:00 - step 14 of 96 - 962 active elements (38 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-02 19:00:00 - step 15 of 96 - 957 active elements (43 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-02 19:30:00 - step 16 of 96 - 955 active elements (45 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-02 20:00:00 - step 17 of 96 - 951 active elements (49 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-02 20:30:00 - step 18 of 96 - 941 active elements (59 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-02 21:00:00 - step 19 of 96 - 936 active elements (64 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-02 21:30:00 - step 20 of 96 - 929 active elements (71 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-02 22:00:00 - step 21 of 96 - 924 active elements (76 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-02 22:30:00 - step 22 of 96 - 918 active elements (82 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-02 23:00:00 - step 23 of 96 - 906 active elements (94 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-02 23:30:00 - step 24 of 96 - 900 active elements (100 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 00:00:00 - step 25 of 96 - 893 active elements (107 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 00:30:00 - step 26 of 96 - 888 active elements (112 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 01:00:00 - step 27 of 96 - 885 active elements (115 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 01:30:00 - step 28 of 96 - 881 active elements (119 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 02:00:00 - step 29 of 96 - 874 active elements (126 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 02:30:00 - step 30 of 96 - 869 active elements (131 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 03:00:00 - step 31 of 96 - 864 active elements (136 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 03:30:00 - step 32 of 96 - 858 active elements (142 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 04:00:00 - step 33 of 96 - 853 active elements (147 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 04:30:00 - step 34 of 96 - 850 active elements (150 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 05:00:00 - step 35 of 96 - 848 active elements (152 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 05:30:00 - step 36 of 96 - 848 active elements (152 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 06:00:00 - step 37 of 96 - 846 active elements (154 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 06:30:00 - step 38 of 96 - 841 active elements (159 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 07:00:00 - step 39 of 96 - 839 active elements (161 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 07:30:00 - step 40 of 96 - 832 active elements (168 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 08:00:00 - step 41 of 96 - 827 active elements (173 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 08:30:00 - step 42 of 96 - 824 active elements (176 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 09:00:00 - step 43 of 96 - 822 active elements (178 deactivated)
    10:54:47 INFO    opendrift.models.basemodel: 2016-02-03 09:30:00 - step 44 of 96 - 817 active elements (183 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 10:00:00 - step 45 of 96 - 816 active elements (184 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 10:30:00 - step 46 of 96 - 816 active elements (184 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 11:00:00 - step 47 of 96 - 815 active elements (185 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 11:30:00 - step 48 of 96 - 812 active elements (188 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 12:00:00 - step 49 of 96 - 809 active elements (191 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 12:30:00 - step 50 of 96 - 808 active elements (192 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 13:00:00 - step 51 of 96 - 805 active elements (195 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 13:30:00 - step 52 of 96 - 802 active elements (198 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 14:00:00 - step 53 of 96 - 800 active elements (200 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 14:30:00 - step 54 of 96 - 800 active elements (200 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 15:00:00 - step 55 of 96 - 800 active elements (200 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 15:30:00 - step 56 of 96 - 799 active elements (201 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 16:00:00 - step 57 of 96 - 798 active elements (202 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 16:30:00 - step 58 of 96 - 796 active elements (204 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 17:00:00 - step 59 of 96 - 796 active elements (204 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 17:30:00 - step 60 of 96 - 795 active elements (205 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 18:00:00 - step 61 of 96 - 794 active elements (206 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 18:30:00 - step 62 of 96 - 794 active elements (206 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 19:00:00 - step 63 of 96 - 793 active elements (207 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 19:30:00 - step 64 of 96 - 792 active elements (208 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 20:00:00 - step 65 of 96 - 791 active elements (209 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 20:30:00 - step 66 of 96 - 791 active elements (209 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 21:00:00 - step 67 of 96 - 789 active elements (211 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 21:30:00 - step 68 of 96 - 789 active elements (211 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 22:00:00 - step 69 of 96 - 789 active elements (211 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 22:30:00 - step 70 of 96 - 789 active elements (211 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 23:00:00 - step 71 of 96 - 788 active elements (212 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-03 23:30:00 - step 72 of 96 - 788 active elements (212 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-04 00:00:00 - step 73 of 96 - 788 active elements (212 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-04 00:30:00 - step 74 of 96 - 787 active elements (213 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-04 01:00:00 - step 75 of 96 - 785 active elements (215 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-04 01:30:00 - step 76 of 96 - 785 active elements (215 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-04 02:00:00 - step 77 of 96 - 784 active elements (216 deactivated)
    10:54:48 INFO    opendrift.models.basemodel: 2016-02-04 02:30:00 - step 78 of 96 - 784 active elements (216 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 03:00:00 - step 79 of 96 - 784 active elements (216 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 03:30:00 - step 80 of 96 - 783 active elements (217 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 04:00:00 - step 81 of 96 - 783 active elements (217 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 04:30:00 - step 82 of 96 - 783 active elements (217 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 05:00:00 - step 83 of 96 - 783 active elements (217 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 05:30:00 - step 84 of 96 - 781 active elements (219 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 06:00:00 - step 85 of 96 - 781 active elements (219 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 06:30:00 - step 86 of 96 - 780 active elements (220 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 07:00:00 - step 87 of 96 - 780 active elements (220 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 07:30:00 - step 88 of 96 - 779 active elements (221 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 08:00:00 - step 89 of 96 - 779 active elements (221 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 08:30:00 - step 90 of 96 - 779 active elements (221 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 09:00:00 - step 91 of 96 - 779 active elements (221 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 09:30:00 - step 92 of 96 - 779 active elements (221 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 10:00:00 - step 93 of 96 - 779 active elements (221 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 10:30:00 - step 94 of 96 - 778 active elements (222 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 11:00:00 - step 95 of 96 - 778 active elements (222 deactivated)
    10:54:49 INFO    opendrift.models.basemodel: 2016-02-04 11:30:00 - step 96 of 96 - 778 active elements (222 deactivated)




.. GENERATED FROM PYTHON SOURCE LINES 39-45

.. code-block:: default

    from matplotlib.colors import ListedColormap
    import cartopy.feature as cfeature
    #cmap = ListedColormap(('blue', 'red'))
    cmap = ListedColormap((cfeature.COLORS['water'],
                           cfeature.COLORS['land']))








.. GENERATED FROM PYTHON SOURCE LINES 46-49

.. _model_landmask_only_model:

To only show the landmask from the model, hide the coastline landmask by doing:

.. GENERATED FROM PYTHON SOURCE LINES 49-53

.. code-block:: default


    o2.plot(background='land_binary_mask', hide_landmask=True, cmap=cmap)





.. image:: /gallery/images/sphx_glr_example_model_landmask_001.png
    :alt: OpenDrift - OceanDrift 2016-02-02 12:00 to 2016-02-04 12:00 UTC (17 steps)
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none


    (<GeoAxesSubplot:title={'center':'OpenDrift - OceanDrift\n2016-02-02 12:00 to 2016-02-04 12:00 UTC (17 steps)'}>, <module 'matplotlib.pyplot' from '/opt/conda/envs/opendrift/lib/python3.9/site-packages/matplotlib/pyplot.py'>)



.. GENERATED FROM PYTHON SOURCE LINES 54-55

Animation illustrating that red particles strand at ocean model land cells, and black particles strand at GSHHG land polygons

.. GENERATED FROM PYTHON SOURCE LINES 55-58

.. code-block:: default

    o.animation(compare=o2, background='land_binary_mask', cmap=cmap,
                legend=['Default GSHHG landmask', 'Ocean model landmask'])





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    10:55:08 INFO    opendrift.models.basemodel: Saving animation to /root/project/docs/source/gallery/animations/example_model_landmask_0.gif...
    10:55:08 INFO    opendrift.models.basemodel: Making animated gif...




.. GENERATED FROM PYTHON SOURCE LINES 59-60

.. image:: /gallery/animations/example_model_landmask_0.gif

.. GENERATED FROM PYTHON SOURCE LINES 60-64

.. code-block:: default


    o.plot(compare=o2, background='land_binary_mask', cmap=cmap,
           legend=['Default GSHHG landmask', 'Ocean model landmask'])




.. image:: /gallery/images/sphx_glr_example_model_landmask_002.png
    :alt: OpenDrift - OceanDrift 2016-02-02 12:00 to 2016-02-04 12:00 UTC (17 steps)
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none


    (<GeoAxesSubplot:title={'center':'OpenDrift - OceanDrift\n2016-02-02 12:00 to 2016-02-04 12:00 UTC (17 steps)'}>, <module 'matplotlib.pyplot' from '/opt/conda/envs/opendrift/lib/python3.9/site-packages/matplotlib/pyplot.py'>)




.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 1 minutes  8.349 seconds)


.. _sphx_glr_download_gallery_example_model_landmask.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: example_model_landmask.py <example_model_landmask.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: example_model_landmask.ipynb <example_model_landmask.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
