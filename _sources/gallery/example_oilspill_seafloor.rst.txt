
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "gallery/example_oilspill_seafloor.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_gallery_example_oilspill_seafloor.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_gallery_example_oilspill_seafloor.py:


Seafloor oil spill
===================

.. GENERATED FROM PYTHON SOURCE LINES 6-22

.. code-block:: default


    from datetime import timedelta
    from opendrift.readers import reader_netCDF_CF_generic
    from opendrift.models.openoil import OpenOil

    o = OpenOil(loglevel=20)  # Set loglevel to 0 for debug information

    # Norkyst
    reader_norkyst = reader_netCDF_CF_generic.Reader(o.test_data_folder() + '14Jan2016_NorKyst_z_3d/NorKyst-800m_ZDEPTHS_his_00_3Dsubset.nc')
    #reader_norkyst = reader_netCDF_CF_generic.Reader('https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be')

    o.add_reader([reader_norkyst])
    o.set_config('environment:fallback:x_wind', 3)
    o.set_config('environment:fallback:y_wind', 7)
    o.set_config('drift:vertical_mixing', True)


.. GENERATED FROM PYTHON SOURCE LINES 23-24

Seeding some particles

.. GENERATED FROM PYTHON SOURCE LINES 24-29

.. code-block:: default

    time = [reader_norkyst.start_time,
            reader_norkyst.start_time + timedelta(hours=1)]
    o.seed_elements(lon=4.5, lat=62.0, z='seafloor', radius=0, number=3000,
                    time=time, oil_type='GENERIC DIESEL')


.. GENERATED FROM PYTHON SOURCE LINES 30-31

Setting the range of droplet sizes for the seafloor release

.. GENERATED FROM PYTHON SOURCE LINES 31-34

.. code-block:: default

    o.set_config('seed:droplet_diameter_min_subsea', 0.0001)
    o.set_config('seed:droplet_diameter_max_subsea', 0.0005)


.. GENERATED FROM PYTHON SOURCE LINES 35-36

Running model with a small timestep to resolve the boyant rising

.. GENERATED FROM PYTHON SOURCE LINES 36-38

.. code-block:: default

    o.run(duration=timedelta(hours=2), time_step=60, time_step_output=60)


.. GENERATED FROM PYTHON SOURCE LINES 39-40

Print and plot results

.. GENERATED FROM PYTHON SOURCE LINES 40-43

.. code-block:: default

    print(o)

    o.animation_profile()

.. GENERATED FROM PYTHON SOURCE LINES 44-45

.. image:: /gallery/animations/example_oilspill_seafloor_0.gif

.. GENERATED FROM PYTHON SOURCE LINES 45-47

.. code-block:: default


    o.animate_vertical_distribution(bins=30)

.. GENERATED FROM PYTHON SOURCE LINES 48-49

.. image:: /gallery/animations/example_oilspill_seafloor_1.gif

.. GENERATED FROM PYTHON SOURCE LINES 49-51

.. code-block:: default


    o.plot_oil_budget()


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.000 seconds)


.. _sphx_glr_download_gallery_example_oilspill_seafloor.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: example_oilspill_seafloor.py <example_oilspill_seafloor.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: example_oilspill_seafloor.ipynb <example_oilspill_seafloor.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
