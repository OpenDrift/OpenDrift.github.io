
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "gallery/example_cone.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_gallery_example_cone.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_gallery_example_cone.py:


Cone seeding
=====================

.. GENERATED FROM PYTHON SOURCE LINES 6-13

.. code-block:: Python


    from datetime import datetime, timedelta
    from opendrift.readers import reader_netCDF_CF_generic
    from opendrift.models.openoil import OpenOil

    o = OpenOil(loglevel=20)  # Set loglevel to 0 for debug information





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    11:34:26 INFO    opendrift.models.basemodel:528: OpenDriftSimulation initialised (version 1.11.1 / v1.11.1-45-gdd9d957)




.. GENERATED FROM PYTHON SOURCE LINES 14-15

Using live data from Thredds

.. GENERATED FROM PYTHON SOURCE LINES 15-18

.. code-block:: Python

    o.add_readers_from_list([
        'https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be'])








.. GENERATED FROM PYTHON SOURCE LINES 19-20

Adjusting some configuration

.. GENERATED FROM PYTHON SOURCE LINES 20-27

.. code-block:: Python

    o.set_config('processes:dispersion', True)
    o.set_config('processes:evaporation', False)
    o.set_config('processes:emulsification', True)
    o.disable_vertical_motion()
    #o.set_config('drift:vertical_mixing', False)
    #o.set_config('drift:vertical_mixing', False)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    11:34:26 INFO    opendrift.models.oceandrift:375: Setting config: drift:vertical_advection -> False
    11:34:26 INFO    opendrift.models.oceandrift:375: Setting config: drift:vertical_mixing -> False




.. GENERATED FROM PYTHON SOURCE LINES 28-30

Seed elements along cone, e.g. ship track with
increasing uncertainty in position

.. GENERATED FROM PYTHON SOURCE LINES 30-40

.. code-block:: Python

    latstart = 68.988911
    lonstart = 16.040701
    latend = 69.991446
    lonend = 17.760061
    time = [datetime.utcnow(), datetime.utcnow() + timedelta(hours=12)]
    o.seed_cone(lon=[lonstart, lonend], lat=[latstart, latend],
                oil_type='EKOFISK', radius=[100, 800], number=10000, time=[time])

    print(o)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    11:34:26 INFO    opendrift.models.basemodel.environment:220: Adding a dynamical landmask with max. priority based on assumed maximum speed of 1.0 m/s. Adding a customised landmask may be faster...
    11:34:32 INFO    opendrift.models.basemodel.environment:247: Fallback values will be used for the following variables which have no readers: 
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    upward_sea_water_velocity: 0.000000
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    sea_surface_wave_significant_height: 0.000000
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    sea_surface_wave_stokes_drift_x_velocity: 0.000000
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    sea_surface_wave_stokes_drift_y_velocity: 0.000000
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    sea_surface_wave_period_at_variance_spectral_density_maximum: 0.000000
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    sea_surface_wave_mean_period_from_variance_spectral_density_second_frequency_moment: 0.000000
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    sea_ice_area_fraction: 0.000000
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    sea_ice_x_velocity: 0.000000
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    sea_ice_y_velocity: 0.000000
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    sea_water_temperature: 10.000000
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    sea_water_salinity: 34.000000
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    sea_floor_depth_below_sea_level: 10000.000000
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    ocean_vertical_diffusivity: 0.020000
    11:34:32 INFO    opendrift.models.basemodel.environment:250:    ocean_mixed_layer_thickness: 50.000000
    11:34:32 INFO    opendrift.models.openoil.adios.dirjs:90: Querying ADIOS database for oil: EKOFISK
    11:34:32 WARNING opendrift.models.openoil.adios.dirjs:94: Several oils found with name: EKOFISK: ['AD00328', 'AD00329', 'AD00332', 'AD00333', 'AD01944', 'AD02094', 'AD02463', 'AD02558', 'NO00013', 'NO00014', 'NO00015', 'NO00016'], using first.
    11:34:32 INFO    opendrift.models.openoil.openoil:1720: Using density 809.002835 and viscosity 3.3498550728972226e-06 of oiltype EKOFISK
    ===========================
    Model:  OpenOil     (OpenDrift version 1.11.1)
            0 active Oil particles  (0 deactivated, 10000 scheduled)
    -------------------
    Environment variables:
      -----
      land_binary_mask
         1) global_landmask
      -----
    Readers not added for the following variables:
      ocean_mixed_layer_thickness
      ocean_vertical_diffusivity
      sea_floor_depth_below_sea_level
      sea_ice_area_fraction
      sea_ice_x_velocity
      sea_ice_y_velocity
      sea_surface_wave_mean_period_from_variance_spectral_density_second_frequency_moment
      sea_surface_wave_period_at_variance_spectral_density_maximum
      sea_surface_wave_significant_height
      sea_surface_wave_stokes_drift_x_velocity
      sea_surface_wave_stokes_drift_y_velocity
      sea_water_salinity
      sea_water_temperature
      upward_sea_water_velocity
      x_sea_water_velocity
      x_wind
      y_sea_water_velocity
      y_wind
    ---
    Lazy readers:
      LazyReader: https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be

    Discarded readers:
    ===========================





.. GENERATED FROM PYTHON SOURCE LINES 41-42

Running model for 24 hours

.. GENERATED FROM PYTHON SOURCE LINES 42-44

.. code-block:: Python

    o.run(steps=24*2, time_step=1800, time_step_output=3600)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    11:34:32 INFO    opendrift.models.basemodel:891: Using existing reader for land_binary_mask
    11:34:32 INFO    opendrift.models.basemodel:903: All points are in ocean
    11:34:32 INFO    opendrift.models.openoil.openoil:690: Oil-water surface tension is 0.027884 Nm
    11:34:32 INFO    opendrift.models.openoil.openoil:703: Max water fraction not available for EKOFISK, using default
    11:34:32 INFO    opendrift.models.basemodel:1992: 2024-03-15 11:34:26.853343 - step 1 of 48 - 417 active elements (0 deactivated)
    11:34:32 INFO    opendrift.readers.reader_netCDF_CF_generic:97: Opening dataset: https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be
    /opt/conda/envs/opendrift/lib/python3.11/site-packages/pyproj/crs/crs.py:1286: UserWarning: You will likely lose important projection information when converting to a PROJ string from another format. See: https://proj.org/faq.html#what-is-the-best-format-for-describing-coordinate-reference-systems
      proj = self._crs.to_proj4(version=version)
    11:34:34 INFO    opendrift.readers.reader_netCDF_CF_generic:309: Detected dimensions: {'x': 'X', 'y': 'Y', 'z': 'depth', 'time': 'time'}
    11:34:37 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    /root/project/opendrift/readers/interpolation/interpolators.py:17: RuntimeWarning: overflow encountered in cast
      data[mask] = np.finfo(np.float64).min
    11:34:37 INFO    opendrift.models.basemodel:1992: 2024-03-15 12:04:26.853343 - step 2 of 48 - 834 active elements (0 deactivated)
    11:34:38 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:38 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:38 INFO    opendrift.models.basemodel:1992: 2024-03-15 12:34:26.853343 - step 3 of 48 - 1250 active elements (0 deactivated)
    11:34:39 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:39 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:39 INFO    opendrift.models.basemodel:1992: 2024-03-15 13:04:26.853343 - step 4 of 48 - 1667 active elements (0 deactivated)
    11:34:40 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:41 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:41 INFO    opendrift.models.basemodel:1992: 2024-03-15 13:34:26.853343 - step 5 of 48 - 2084 active elements (0 deactivated)
    11:34:42 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:42 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:42 INFO    opendrift.models.basemodel:1992: 2024-03-15 14:04:26.853343 - step 6 of 48 - 2500 active elements (0 deactivated)
    11:34:43 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:43 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:43 INFO    opendrift.models.basemodel:1992: 2024-03-15 14:34:26.853343 - step 7 of 48 - 2917 active elements (0 deactivated)
    11:34:44 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:44 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:44 INFO    opendrift.models.basemodel:1992: 2024-03-15 15:04:26.853343 - step 8 of 48 - 3334 active elements (0 deactivated)
    11:34:46 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:46 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:46 INFO    opendrift.models.basemodel:1992: 2024-03-15 15:34:26.853343 - step 9 of 48 - 3750 active elements (0 deactivated)
    11:34:47 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:47 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:47 INFO    opendrift.models.basemodel:1992: 2024-03-15 16:04:26.853343 - step 10 of 48 - 4167 active elements (0 deactivated)
    11:34:48 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:48 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:48 INFO    opendrift.models.basemodel:1992: 2024-03-15 16:34:26.853343 - step 11 of 48 - 4583 active elements (0 deactivated)
    11:34:50 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:50 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:50 INFO    opendrift.models.basemodel:1992: 2024-03-15 17:04:26.853343 - step 12 of 48 - 5000 active elements (0 deactivated)
    11:34:51 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:51 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:52 INFO    opendrift.models.basemodel:1992: 2024-03-15 17:34:26.853343 - step 13 of 48 - 5417 active elements (0 deactivated)
    11:34:53 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:53 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:53 INFO    opendrift.models.basemodel:1992: 2024-03-15 18:04:26.853343 - step 14 of 48 - 5833 active elements (0 deactivated)
    11:34:54 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:54 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:54 INFO    opendrift.models.basemodel:1992: 2024-03-15 18:34:26.853343 - step 15 of 48 - 6250 active elements (0 deactivated)
    11:34:55 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:55 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:55 INFO    opendrift.models.basemodel:1992: 2024-03-15 19:04:26.853343 - step 16 of 48 - 6667 active elements (0 deactivated)
    11:34:57 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:57 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:57 INFO    opendrift.models.basemodel:1992: 2024-03-15 19:34:26.853343 - step 17 of 48 - 7083 active elements (0 deactivated)
    11:34:58 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:58 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:58 INFO    opendrift.models.basemodel:1992: 2024-03-15 20:04:26.853343 - step 18 of 48 - 7500 active elements (0 deactivated)
    11:34:59 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:59 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:34:59 INFO    opendrift.models.basemodel:1992: 2024-03-15 20:34:26.853343 - step 19 of 48 - 7916 active elements (0 deactivated)
    11:35:00 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:35:01 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:35:01 INFO    opendrift.models.basemodel:1992: 2024-03-15 21:04:26.853343 - step 20 of 48 - 8332 active elements (1 deactivated)
    11:35:02 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:35:02 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:35:02 INFO    opendrift.models.basemodel:1992: 2024-03-15 21:34:26.853343 - step 21 of 48 - 8742 active elements (8 deactivated)
    11:35:03 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:35:03 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:35:03 INFO    opendrift.models.basemodel:1992: 2024-03-15 22:04:26.853343 - step 22 of 48 - 9131 active elements (35 deactivated)
    11:35:05 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:35:05 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:35:05 INFO    opendrift.models.basemodel:1992: 2024-03-15 22:34:26.853343 - step 23 of 48 - 9470 active elements (113 deactivated)
    11:35:06 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:35:06 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:35:06 INFO    opendrift.models.basemodel:1992: 2024-03-15 23:04:26.853343 - step 24 of 48 - 9711 active elements (289 deactivated)
    11:35:09 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:35:09 INFO    opendrift.models.basemodel:1992: 2024-03-15 23:34:26.853343 - step 25 of 48 - 9413 active elements (587 deactivated)
    11:35:09 WARNING opendrift.readers.basereader.structured:321: Data block from https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be not large enough to cover element positions within timestep. Buffer size (7) must be increased. See `Variables.set_buffer_size`.
    11:35:09 INFO    opendrift.models.basemodel:1992: 2024-03-16 00:04:26.853343 - step 26 of 48 - 9096 active elements (904 deactivated)
    11:35:11 INFO    opendrift.models.basemodel:1992: 2024-03-16 00:34:26.853343 - step 27 of 48 - 8822 active elements (1178 deactivated)
    11:35:11 INFO    opendrift.models.basemodel:1992: 2024-03-16 01:04:26.853343 - step 28 of 48 - 8591 active elements (1409 deactivated)
    11:35:13 INFO    opendrift.models.basemodel:1992: 2024-03-16 01:34:26.853343 - step 29 of 48 - 8420 active elements (1580 deactivated)
    11:35:13 INFO    opendrift.models.basemodel:1992: 2024-03-16 02:04:26.853343 - step 30 of 48 - 8307 active elements (1693 deactivated)
    11:35:14 INFO    opendrift.models.basemodel:1992: 2024-03-16 02:34:26.853343 - step 31 of 48 - 8261 active elements (1739 deactivated)
    11:35:15 INFO    opendrift.models.basemodel:1992: 2024-03-16 03:04:26.853343 - step 32 of 48 - 8230 active elements (1770 deactivated)
    11:35:16 INFO    opendrift.models.basemodel:1992: 2024-03-16 03:34:26.853343 - step 33 of 48 - 8213 active elements (1787 deactivated)
    11:35:16 INFO    opendrift.models.basemodel:1992: 2024-03-16 04:04:26.853343 - step 34 of 48 - 8211 active elements (1789 deactivated)
    11:35:18 INFO    opendrift.models.basemodel:1992: 2024-03-16 04:34:26.853343 - step 35 of 48 - 8210 active elements (1790 deactivated)
    11:35:18 INFO    opendrift.models.basemodel:1992: 2024-03-16 05:04:26.853343 - step 36 of 48 - 8209 active elements (1791 deactivated)
    11:35:19 INFO    opendrift.models.basemodel:1992: 2024-03-16 05:34:26.853343 - step 37 of 48 - 8207 active elements (1793 deactivated)
    11:35:19 INFO    opendrift.models.basemodel:1992: 2024-03-16 06:04:26.853343 - step 38 of 48 - 8204 active elements (1796 deactivated)
    11:35:21 INFO    opendrift.models.basemodel:1992: 2024-03-16 06:34:26.853343 - step 39 of 48 - 8204 active elements (1796 deactivated)
    11:35:21 INFO    opendrift.models.basemodel:1992: 2024-03-16 07:04:26.853343 - step 40 of 48 - 8203 active elements (1797 deactivated)
    11:35:22 INFO    opendrift.models.basemodel:1992: 2024-03-16 07:34:26.853343 - step 41 of 48 - 8203 active elements (1797 deactivated)
    11:35:22 INFO    opendrift.models.basemodel:1992: 2024-03-16 08:04:26.853343 - step 42 of 48 - 8200 active elements (1800 deactivated)
    11:35:24 INFO    opendrift.models.basemodel:1992: 2024-03-16 08:34:26.853343 - step 43 of 48 - 8197 active elements (1803 deactivated)
    11:35:24 INFO    opendrift.models.basemodel:1992: 2024-03-16 09:04:26.853343 - step 44 of 48 - 8192 active elements (1808 deactivated)
    11:35:25 INFO    opendrift.models.basemodel:1992: 2024-03-16 09:34:26.853343 - step 45 of 48 - 8185 active elements (1815 deactivated)
    11:35:25 INFO    opendrift.models.basemodel:1992: 2024-03-16 10:04:26.853343 - step 46 of 48 - 8183 active elements (1817 deactivated)
    11:35:27 INFO    opendrift.models.basemodel:1992: 2024-03-16 10:34:26.853343 - step 47 of 48 - 8178 active elements (1822 deactivated)
    11:35:27 INFO    opendrift.models.basemodel:1992: 2024-03-16 11:04:26.853343 - step 48 of 48 - 8169 active elements (1831 deactivated)




.. GENERATED FROM PYTHON SOURCE LINES 45-46

Print and plot results

.. GENERATED FROM PYTHON SOURCE LINES 46-48

.. code-block:: Python

    print(o)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    ===========================
    --------------------
    Reader performance:
    --------------------
    global_landmask
     0:00:00.0  total
     0:00:00.0  preparing
     0:00:00.0  reading
     0:00:00.0  masking
    --------------------
    https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be
     0:00:52.6  total
     0:00:00.0  preparing
     0:00:51.0  reading
     0:00:02.2  interpolation
     0:00:00.0  interpolation_time
     0:00:01.5  rotating vectors
     0:00:00.0  masking
    --------------------
    Performance:
     1:02.9 total time
        5.4 configuration
        0.1 preparing main loop
          0.0 moving elements to ocean
       57.3 main loop
          0.5 updating elements
            0.0 oil weathering
              0.0 updating viscosities
              0.0 updating densities
              0.0 emulsification
              0.0 dispersion
        0.0 cleaning up
    --------------------
    ===========================
    Model:  OpenOil     (OpenDrift version 1.11.1)
            8137 active Oil particles  (1863 deactivated, 0 scheduled)
    -------------------
    Environment variables:
      -----
      land_binary_mask
         1) global_landmask
      -----
      sea_floor_depth_below_sea_level
      sea_water_salinity
      sea_water_temperature
      upward_sea_water_velocity
      x_sea_water_velocity
      x_wind
      y_sea_water_velocity
      y_wind
         1) https://thredds.met.no/thredds/dodsC/sea/norkyst800m/1h/aggregate_be
      -----
    Readers not added for the following variables:
      ocean_mixed_layer_thickness
      ocean_vertical_diffusivity
      sea_ice_area_fraction
      sea_ice_x_velocity
      sea_ice_y_velocity
      sea_surface_wave_mean_period_from_variance_spectral_density_second_frequency_moment
      sea_surface_wave_period_at_variance_spectral_density_maximum
      sea_surface_wave_significant_height
      sea_surface_wave_stokes_drift_x_velocity
      sea_surface_wave_stokes_drift_y_velocity

    Discarded readers:

    Time:
            Start: 2024-03-15 11:34:26.853343 UTC
            Present: 2024-03-16 11:34:26.853343 UTC
            Calculation steps: 48 * 0:30:00 - total time: 1 day, 0:00:00
            Output steps: 25 * 1:00:00
    ===========================





.. GENERATED FROM PYTHON SOURCE LINES 49-50

Add text label on the map

.. GENERATED FROM PYTHON SOURCE LINES 50-55

.. code-block:: Python

    text = [{'s': 'Senja', 'x': 17.3, 'y': 69.3, 'fontsize': 20, 'color': 'g',
             'backgroundcolor': 'white', 'bbox': dict(facecolor='white', alpha=0.8), 'zorder': 1000}]

    o.animation(fast=False, ocean_color='skyblue', land_color='burlywood', text=text)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    /opt/conda/envs/opendrift/lib/python3.11/site-packages/cartopy/mpl/geoaxes.py:1696: UserWarning: No data for colormapping provided via 'c'. Parameters 'cmap' will be ignored
      result = super().scatter(*args, **kwargs)
    11:35:48 INFO    opendrift.models.basemodel:4533: Saving animation to /root/project/docs/source/gallery/animations/example_cone_0.gif...
    11:36:49 INFO    opendrift.models.basemodel:2983: Time to make animation: 0:01:19.107802




.. GENERATED FROM PYTHON SOURCE LINES 56-57

.. image:: /gallery/animations/example_cone_0.gif

.. GENERATED FROM PYTHON SOURCE LINES 57-59

.. code-block:: Python


    o.plot(fast=True, ocean_color='skyblue', land_color='dimgray', text=text)



.. image-sg:: /gallery/images/sphx_glr_example_cone_001.png
   :alt: OpenDrift - OpenOil (EKOFISK) 2024-03-15 11:34 to 2024-03-16 11:34 UTC (25 steps)
   :srcset: /gallery/images/sphx_glr_example_cone_001.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    11:36:49 WARNING opendrift.models.basemodel:2359: Plotting fast. This will make your plots less accurate.

    (<GeoAxes: title={'center': 'OpenDrift - OpenOil (EKOFISK)\n2024-03-15 11:34 to 2024-03-16 11:34 UTC (25 steps)'}>, <Figure size 718.255x1100 with 1 Axes>)




.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (2 minutes 46.599 seconds)


.. _sphx_glr_download_gallery_example_cone.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: example_cone.ipynb <example_cone.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: example_cone.py <example_cone.py>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
