.. note::
    :class: sphx-glr-download-link-note

    Click :ref:`here <sphx_glr_download_gallery_example_long_coastline_options.py>` to download the full example code
.. rst-class:: sphx-glr-example-title

.. _sphx_glr_gallery_example_long_coastline_options.py:


Coastline with options
=============

Example to illustrate stranding options using an artificial
east-west oscillating current field
Knut-Frode Dagestad, Feb 2017


.. code-block:: default


    from opendrift.readers import reader_ROMS_native
    from opendrift.readers import reader_oscillating

    from opendrift.models.oceandrift import OceanDrift

    o = OceanDrift(loglevel=0)  # Set loglevel to 0 for debug information

    # Adding nordic reader for coastline
    reader_nordic = reader_ROMS_native.Reader(o.test_data_folder() +
        '2Feb2016_Nordic_sigma_3d/Nordic-4km_SLEVELS_avg_00_subset2Feb2016.nc')
    reader_nordic.variables = ['land_binary_mask']

    reader_osc = reader_oscillating.Reader('x_sea_water_velocity', amplitude=1,
                                           zero_time=reader_nordic.start_time)
    o.add_reader([reader_osc])  # Oscillating east-west current component

    o.fallback_values['y_sea_water_velocity'] = .2  # Adding northwards drift


Try different options: 'previous', 'stranding', 'none'


.. code-block:: default

    o.set_config('general:coastline_action', 'previous')


.. code-block:: default


    time = reader_osc.zero_time
    lon = 12.2; lat = 67.7
    o.seed_elements(lon, lat, radius=5000, number=15, time=time)

    o.run(steps=36*4, time_step=900)

    # Print and plot results
    print(o)
    o.plot()
    #o.plot(background=['x_sea_water_velocity', 'y_sea_water_velocity'])
    o.animation(filename='coastline_options.gif')


.. image:: /gallery/animations/coastline_options.gif


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.000 seconds)


.. _sphx_glr_download_gallery_example_long_coastline_options.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download

     :download:`Download Python source code: example_long_coastline_options.py <example_long_coastline_options.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: example_long_coastline_options.ipynb <example_long_coastline_options.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
