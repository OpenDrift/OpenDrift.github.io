<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>opendrift.models.openoil.adios.get_max_water_fraction_for_oils &mdash; OpenDrift  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/plot_directive.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/sg_gallery.css?v=61a4c737" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/theme_overrides.css" />

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../index.html" class="icon icon-home">
            OpenDrift
              <img src="../../../../../_static/opendrift_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Introduction to OpenDrift</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../history_link.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../install.html">Installing OpenDrift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../performance.html">Performance in OpenDrift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../theory/index.html">Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../theory/index.html#drift-in-the-ocean">Drift in the Ocean</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../choosing_a_model.html">How to choose which model to use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../writing_a_new_model.html">How to write a new module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../oil_types.html">Oil types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../interaction_with_coastline.html">Interaction with coastline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../docker.html">Using OpenDrift in a container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../gui.html">Graphical User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../references.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../services.html">Services using OpenDrift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../autoapi/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">OpenDrift</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Module code</a></li>
          <li class="breadcrumb-item"><a href="../../../../opendrift.html">opendrift</a></li>
      <li class="breadcrumb-item active">opendrift.models.openoil.adios.get_max_water_fraction_for_oils</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for opendrift.models.openoil.adios.get_max_water_fraction_for_oils</h1><div class="highlight"><pre>
<div class="viewcode-block" id="get_water_fractions">
<a class="viewcode-back" href="../../../../../autoapi/opendrift/models/openoil/adios/get_max_water_fraction_for_oils/index.html#opendrift.models.openoil.adios.get_max_water_fraction_for_oils.get_water_fractions">[docs]</a>
<span></span><span class="k">def</span> <span class="nf">get_water_fractions</span><span class="p">():</span>
    <span class="kn">import</span> <span class="nn">difflib</span>
    <span class="kn">import</span> <span class="nn">json</span>
    <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
    <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
    <span class="kn">from</span> <span class="nn">opendrift.models.openoil</span> <span class="kn">import</span> <span class="n">OpenOil</span>

    <span class="n">oot</span> <span class="o">=</span> <span class="n">OpenOil</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="s1">&#39;Norway&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">oiltypes</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">oot</span><span class="p">)</span>

    <span class="n">o</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;oljedatabase_alle_03052024.xlsx&#39;</span><span class="p">)</span>
    <span class="n">oljer</span> <span class="o">=</span> <span class="n">o</span><span class="p">[</span><span class="s1">&#39;Oljetype&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">oljer</span> <span class="o">=</span> <span class="n">oljer</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">oljer</span><span class="p">)</span>

    <span class="k">if</span> <span class="kc">False</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">ot</span> <span class="ow">in</span> <span class="n">oot</span><span class="p">:</span>  <span class="c1"># Loop to generate suggestions for mapping</span>
            <span class="n">matches</span> <span class="o">=</span> <span class="n">difflib</span><span class="o">.</span><span class="n">get_close_matches</span><span class="p">(</span><span class="n">ot</span><span class="o">.</span><span class="n">title</span><span class="p">(),</span> <span class="n">oljer</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">matches</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">matches</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="si">{</span><span class="n">ot</span><span class="si">}</span><span class="se">\&#39;</span><span class="s1">: </span><span class="se">\&#39;</span><span class="si">{</span><span class="n">matches</span><span class="si">}</span><span class="se">\&#39;</span><span class="s1">,&#39;</span><span class="p">)</span>

    <span class="n">mapping</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;AASGARD A 2003&#39;</span><span class="p">:</span> <span class="s1">&#39;Åsgard 2003&#39;</span><span class="p">,</span>
        <span class="s1">&#39;AASTA HANSTEEN BLEND 2020&#39;</span><span class="p">:</span> <span class="s1">&#39;Aasta Hansteen Blend 2020&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ALTA 2016&#39;</span><span class="p">:</span> <span class="s1">&#39;Alta 2016&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ALVE 2010&#39;</span><span class="p">:</span> <span class="s1">&#39;Alve 2014 *(2017)&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ALVE 2014&#39;</span><span class="p">:</span> <span class="s1">&#39;Alve 2014 *(2017)&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ALVHEIM KNELER 2009&#39;</span><span class="p">:</span> <span class="s1">&#39;Kneler (Alvheim) 2009&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ATLA KONDENSAT 2013&#39;</span><span class="p">:</span> <span class="s1">&#39;Atla kondensat 2013&#39;</span><span class="p">,</span>
        <span class="s1">&#39;AVALDSNES 2012&#39;</span><span class="p">:</span> <span class="s1">&#39;Avaldsnes (Johan Sverdrup) 2012&#39;</span><span class="p">,</span>
        <span class="s1">&#39;BALDER 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Balder Blend 2010&#39;</span><span class="p">,</span>
        <span class="s1">&#39;BALDER BLEND 2010&#39;</span><span class="p">:</span> <span class="s1">&#39;Balder Blend 2010&#39;</span><span class="p">,</span>
        <span class="s1">&#39;BOYLA CRUDE 2016&#39;</span><span class="p">:</span> <span class="s1">&#39;Bøyla 2016&#39;</span><span class="p">,</span>
        <span class="s1">&#39;BRAGE 2013&#39;</span><span class="p">:</span> <span class="s1">&#39;Brage 2013&#39;</span><span class="p">,</span>
        <span class="s1">&#39;BRASSE 2018&#39;</span><span class="p">:</span> <span class="s1">&#39;Brasse 2018&#39;</span><span class="p">,</span>
        <span class="s1">&#39;BREAM 2011&#39;</span><span class="p">:</span> <span class="s1">&#39;Bream 2011&#39;</span><span class="p">,</span>
        <span class="s1">&#39;BREIDABLIKK 2023&#39;</span><span class="p">:</span> <span class="s1">&#39;Breidablikk&#39;</span><span class="p">,</span>
        <span class="s1">&#39;BRYNHILD CRUDE 2015&#39;</span><span class="p">:</span> <span class="s1">&#39;Brynhild 2015&#39;</span><span class="p">,</span>
        <span class="s1">&#39;CAURUS 2011&#39;</span><span class="p">:</span> <span class="s1">&#39;Caurus 2011&#39;</span><span class="p">,</span>
        <span class="s1">&#39;DRAUGEN 2008&#39;</span><span class="p">:</span> <span class="s1">&#39;Draugen 2008&#39;</span><span class="p">,</span>
        <span class="s1">&#39;DRIVIS 2017&#39;</span><span class="p">:</span> <span class="s1">&#39;Drivis 2017&#39;</span><span class="p">,</span>
        <span class="s1">&#39;DUGONG 2022&#39;</span><span class="p">:</span> <span class="s1">&#39;Dugong 2022&#39;</span><span class="p">,</span>
        <span class="s1">&#39;DUVA 2021&#39;</span><span class="p">:</span> <span class="s1">&#39;Duva 2021&#39;</span><span class="p">,</span>
        <span class="s1">&#39;DVALIN 2020&#39;</span><span class="p">:</span> <span class="s1">&#39;Dvalin kondensat 2020&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EKOFISK 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Ekofisk blend 2002&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EKOFISK BLEND 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Ekofisk blend 2002&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EKOFISK BLEND 2015&#39;</span><span class="p">:</span> <span class="s1">&#39;Ekofisk J 2002&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EKOFISK J 2015&#39;</span><span class="p">:</span> <span class="s1">&#39;Ekofisk J 2015&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ELDFISK 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Eldfisk B 2015&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ELDFISK B 2015&#39;</span><span class="p">:</span> <span class="s1">&#39;Eldfisk B 2015&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ELDFISK BLEND 2015&#39;</span><span class="p">:</span> <span class="s1">&#39;Eldfisk B 2015&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ELDFISK KOMPLEKS 2015&#39;</span><span class="p">:</span> <span class="s1">&#39;Eldfisk Kompleks 2015&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ELLI 1999&#39;</span><span class="p">:</span> <span class="s1">&#39;Elli 1999&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ELLI SOUTH 1999&#39;</span><span class="p">:</span> <span class="s1">&#39;Elli South 1999&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EMBLA 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Embla 2002&#39;</span><span class="p">,</span>
        <span class="s1">&#39;FENJA (PIL) 2015&#39;</span><span class="p">:</span> <span class="s1">&#39;Fenja (Pil) 2015&#39;</span><span class="p">,</span>
        <span class="s1">&#39;FOGELBERG CONDENSATE 2021&#39;</span><span class="p">:</span> <span class="s1">&#39;Fogelberg Kondensat 2021&#39;</span><span class="p">,</span>
        <span class="s1">&#39;FORSETI 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Forseti 2002&#39;</span><span class="p">,</span>
        <span class="s1">&#39;FOSSEKALL 2013&#39;</span><span class="p">:</span> <span class="s1">&#39;Fossekall 2013&#39;</span><span class="p">,</span>
        <span class="s1">&#39;FRAM 2013&#39;</span><span class="p">:</span> <span class="s1">&#39;Fram 2013&#39;</span><span class="p">,</span>
        <span class="s1">&#39;FROSK 2020&#39;</span><span class="p">:</span> <span class="s1">&#39;Frosk 2020&#39;</span><span class="p">,</span>
        <span class="s1">&#39;FROY 1996&#39;</span><span class="p">:</span> <span class="s1">&#39;Frøy 1996&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GARANTIANA 2013&#39;</span><span class="p">:</span> <span class="s1">&#39;Garantiana 2013&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GAUPE 2011&#39;</span><span class="p">:</span> <span class="s1">&#39;Gaupe 2011&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GINA KROG CRUDE 2018&#39;</span><span class="p">:</span> <span class="s1">&#39;Gina Krog 2018&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GJOA 2011&#39;</span><span class="p">:</span> <span class="s1">&#39;Gjøa 2011&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GLITNE 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Glitne 2002&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GOLIAT BLEND 50/50 2008&#39;</span><span class="p">:</span> <span class="s1">&#39;Goliat Blend 2008&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GOLIAT BLEND 70/30 2008&#39;</span><span class="p">:</span> <span class="s1">&#39;Goliat Blend 2008&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GOLIAT KOBBE 2008&#39;</span><span class="p">:</span> <span class="s1">&#39;Goliat Kobbe 2008 *(2010)&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GOLIAT REALGRUNNEN 2001&#39;</span><span class="p">:</span> <span class="s1">&#39;Goliat Realgrunnen 2003&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GOLIAT REALGRUNNEN 2008&#39;</span><span class="p">:</span> <span class="s1">&#39;Goliat Realgrunnen 2003&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GRANE 1997&#39;</span><span class="p">:</span> <span class="s1">&#39;Grane 1997&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GROSBEAK 2012&#39;</span><span class="p">:</span> <span class="s1">&#39;Grosbeak 2012&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GUDRUN 2012&#39;</span><span class="p">:</span> <span class="s1">&#39;Gudrun 2012&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GUDRUN 2019&#39;</span><span class="p">:</span> <span class="s1">&#39;Gudrun 2019&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GULLFAKS A BLEND 2010&#39;</span><span class="p">:</span> <span class="s1">&#39;Gullfaks A 2010&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GULLFAKS C BLEND 2010&#39;</span><span class="p">:</span> <span class="s1">&#39;Gullfaks C 2010&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GULLFAKS SOR 1996&#39;</span><span class="p">:</span> <span class="s1">&#39;Gullfaks Sør 1996&#39;</span><span class="p">,</span>
        <span class="s1">&#39;GYDA 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Gyda 2002&#39;</span><span class="p">,</span>
        <span class="s1">&#39;HAVIS 2013&#39;</span><span class="p">:</span> <span class="s1">&#39;Havis 2013&#39;</span><span class="p">,</span>
        <span class="s1">&#39;HEIDRUN AaRE 2004&#39;</span><span class="p">:</span> <span class="s1">&#39;Heidrun Åre 2004&#39;</span><span class="p">,</span>
        <span class="s1">&#39;HEIDRUN AARE 2023&#39;</span><span class="p">:</span> <span class="s1">&#39;Heidrun Åre 2023&#39;</span><span class="p">,</span>
        <span class="s1">&#39;HEIDRUN EXPORT BLEND 2004&#39;</span><span class="p">:</span> <span class="s1">&#39;Heidrun Åre 2004&#39;</span><span class="p">,</span>
        <span class="s1">&#39;HEIDRUN TILJE 2004&#39;</span><span class="p">:</span> <span class="s1">&#39;Heidrun Åre 2004&#39;</span><span class="p">,</span>
        <span class="s1">&#39;HULDRA KONDENSAT 1998&#39;</span><span class="p">:</span> <span class="s1">&#39;Huldra 1998&#39;</span><span class="p">,</span>
        <span class="s1">&#39;IRIS CONDENSATE 2020&#39;</span><span class="p">:</span> <span class="s1">&#39;Iris 2020&#39;</span><span class="p">,</span>
        <span class="s1">&#39;IVAR AASEN 2012&#39;</span><span class="p">:</span> <span class="s1">&#39;Draupne (Ivar Aasen) 2012&#39;</span><span class="p">,</span>
        <span class="s1">&#39;JORDBAER 2011&#39;</span><span class="p">:</span> <span class="s1">&#39;Jordbær 2011&#39;</span><span class="p">,</span>
        <span class="s1">&#39;KRISTIN 2006&#39;</span><span class="p">:</span> <span class="s1">&#39;Kristin 2006&#39;</span><span class="p">,</span>
        <span class="s1">&#39;KVITEBJORN 2009&#39;</span><span class="p">:</span> <span class="s1">&#39;Kvitebjørn 2009&#39;</span><span class="p">,</span>
        <span class="s1">&#39;KVITEBJORN 2019&#39;</span><span class="p">:</span> <span class="s1">&#39;Kvitebjørn 2019&#39;</span><span class="p">,</span>
        <span class="s1">&#39;LAVRANS 1997&#39;</span><span class="p">:</span> <span class="s1">&#39;Lavrans 1997&#39;</span><span class="p">,</span>
        <span class="s1">&#39;LILLE PRINSEN 2022&#39;</span><span class="p">:</span> <span class="s1">&#39;Lille Prinsen 2022&#39;</span><span class="p">,</span>
        <span class="s1">&#39;LILLEFRIGG KONDENSAT 1996&#39;</span><span class="p">:</span> <span class="s1">&#39;Lillefrigg 1996&#39;</span><span class="p">,</span>
        <span class="s1">&#39;LINERLE 2005&#39;</span><span class="p">:</span> <span class="s1">&#39;Linerle 2005&#39;</span><span class="p">,</span>
        <span class="s1">&#39;LUNO 2011&#39;</span><span class="p">:</span> <span class="s1">&#39;Luno (Edvard Grieg) 2011&#39;</span><span class="p">,</span>
        <span class="s1">&#39;LUNO II 2014&#39;</span><span class="p">:</span> <span class="s1">&#39;Solveig (Luno II) 2014&#39;</span><span class="p">,</span>
        <span class="s1">&#39;MARIA 2013&#39;</span><span class="p">:</span> <span class="s1">&#39;Maria 2013&#39;</span><span class="p">,</span>
        <span class="s1">&#39;MARTIN LINGE CONDENSATE 2016&#39;</span><span class="p">:</span> <span class="s1">&#39;Martin Linge kondensat 2016&#39;</span><span class="p">,</span>
        <span class="s1">&#39;MARTIN LINGE CRUDE 2016&#39;</span><span class="p">:</span> <span class="s1">&#39;Martin Linge olje 2016&#39;</span><span class="p">,</span>
        <span class="s1">&#39;MARULK 2014&#39;</span><span class="p">:</span> <span class="s1">&#39;Marulk 2014&#39;</span><span class="p">,</span>
        <span class="s1">&#39;MORVIN 2008&#39;</span><span class="p">:</span> <span class="s1">&#39;Morvin 2008&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NJORD 1997&#39;</span><span class="p">:</span> <span class="s1">&#39;Njord 1997* (2023)&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NJORD 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Njord 2003&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NJORD 2003&#39;</span><span class="p">:</span> <span class="s1">&#39;Njord 2003&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NORNE 2010&#39;</span><span class="p">:</span> <span class="s1">&#39;Norne 2018&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NORNE BLEND 2010&#39;</span><span class="p">:</span> <span class="s1">&#39;Norne Blend 2010&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NORNE CRUDE 2017&#39;</span><span class="p">:</span> <span class="s1">&#39;Norne 2018&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ODA 2019&#39;</span><span class="p">:</span> <span class="s1">&#39;Oda 2019&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OFELIA 2023&#39;</span><span class="p">:</span> <span class="s1">&#39;Ofelia 2023&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ORMEN LANGE KONDENSAT 2008&#39;</span><span class="p">:</span> <span class="s1">&#39;Ormen Lange 2008&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OSEBERG A 2013&#39;</span><span class="p">:</span> <span class="s1">&#39;Oseberg A 2013&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OSEBERG BLEND 2007&#39;</span><span class="p">:</span> <span class="s1">&#39;Oseberg Blend 2007&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OSEBERG C 1995&#39;</span><span class="p">:</span> <span class="s1">&#39;Oseberg C 1999&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OSEBERG C 2013&#39;</span><span class="p">:</span> <span class="s1">&#39;Oseberg A 2013&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OSEBERG OST 1998&#39;</span><span class="p">:</span> <span class="s1">&#39;Oseberg C 1999&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OSEBERG OST 2013&#39;</span><span class="p">:</span> <span class="s1">&#39;Oseberg Øst 2013&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OSEBERG SOR 2000&#39;</span><span class="p">:</span> <span class="s1">&#39;Oseberg Sør 2001&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OSEBERG SOR 2013&#39;</span><span class="p">:</span> <span class="s1">&#39;Oseberg Sør 2013&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OSELVAR 2012&#39;</span><span class="p">:</span> <span class="s1">&#39;Oselvar 2012&#39;</span><span class="p">,</span>
        <span class="s1">&#39;RINGHORNE 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Ringhorne 2002&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SF NORD BRENT 2021&#39;</span><span class="p">:</span> <span class="s1">&#39;SF Nord Brent 2021&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SKARFJELL 2014&#39;</span><span class="p">:</span> <span class="s1">&#39;Skarfjell 2014&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SKARV 2004&#39;</span><span class="p">:</span> <span class="s1">&#39;Skarv olje 2004&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SKARV KONDENSAT 2014&#39;</span><span class="p">:</span> <span class="s1">&#39;Skarv kondensat 2014&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SKOGUL 2020&#39;</span><span class="p">:</span> <span class="s1">&#39;Skogul 2020&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SKRUGARD 2012&#39;</span><span class="p">:</span> <span class="s1">&#39;Skrugard 2012&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SLEIPNER KONDENSAT 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;leipner 2002&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SLEIPNER VEST 1998&#39;</span><span class="p">:</span> <span class="s1">&#39;Sleipner Vest 1998&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SMORBUKK 2003&#39;</span><span class="p">:</span> <span class="s1">&#39;Smørbukk Sør 2003&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SMORBUKK KONDENSAT 2003&#39;</span><span class="p">:</span> <span class="s1">&#39;Smørbukk kondensat 2003&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SMORBUKK SOR 2003&#39;</span><span class="p">:</span> <span class="s1">&#39;Smørbukk Sør 2003&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SNOHVIT KONDENSAT 2001&#39;</span><span class="p">:</span> <span class="s1">&#39;Snøhvit 2001&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SNORRE B 2004&#39;</span><span class="p">:</span> <span class="s1">&#39;Snorre B 2004&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SNORRE TLP 2004&#39;</span><span class="p">:</span> <span class="s1">&#39;Snorre TLP 2004&#39;</span><span class="p">,</span>
        <span class="s1">&#39;STAER 2010&#39;</span><span class="p">:</span> <span class="s1">&#39;Stær 2010&#39;</span><span class="p">,</span>
        <span class="s1">&#39;STATFJORD A 2001&#39;</span><span class="p">:</span> <span class="s1">&#39;Statfjord A 2001&#39;</span><span class="p">,</span>
        <span class="s1">&#39;STATFJORD B 2001&#39;</span><span class="p">:</span> <span class="s1">&#39;Statfjord A 2001&#39;</span><span class="p">,</span>
        <span class="s1">&#39;STATFJORD C 2001&#39;</span><span class="p">:</span> <span class="s1">&#39;Statfjord C 2001 *(2021)&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SVALE 2010&#39;</span><span class="p">:</span> <span class="s1">&#39;Svale 2010&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SVALIN 2014&#39;</span><span class="p">:</span> <span class="s1">&#39;Svalin 2014&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SYGNA BRENT 2021&#39;</span><span class="p">:</span> <span class="s1">&#39;Sygna Brent 2021&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TAMBAR 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Tambar 2002&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TAU 1999&#39;</span><span class="p">:</span> <span class="s1">&#39;Tau 1999&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TOR 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Tambar 2002&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TOR II 2022&#39;</span><span class="p">:</span> <span class="s1">&#39;TOR ll 2022&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TORDIS 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Iris 2020&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TRESTAKK 2008&#39;</span><span class="p">:</span> <span class="s1">&#39;Trestakk 2008&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TROLL, STATOIL&#39;</span><span class="p">:</span> <span class="s1">&#39;Troll 1999&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TRYM KONDENSAT 2011&#39;</span><span class="p">:</span> <span class="s1">&#39;Trym 2011&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TYRIHANS NORD 2004&#39;</span><span class="p">:</span> <span class="s1">&#39;Tyrihans Nord 2004&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TYRIHANS SOR 2004&#39;</span><span class="p">:</span> <span class="s1">&#39;Tyrihans Sør 2004&#39;</span><span class="p">,</span>
        <span class="s1">&#39;ULA 1999&#39;</span><span class="p">:</span> <span class="s1">&#39;Ula 1999&#39;</span><span class="p">,</span>
        <span class="s1">&#39;UTGARD CONDENSATE 2021&#39;</span><span class="p">:</span> <span class="s1">&#39;Utgard kondensat 2021&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VALE 2001&#39;</span><span class="p">:</span> <span class="s1">&#39;Vale 2001&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VALE 2014&#39;</span><span class="p">:</span> <span class="s1">&#39;Vale 2014&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VALHALL 2002&#39;</span><span class="p">:</span> <span class="s1">&#39;Valhall 2002&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VALHALL 2021&#39;</span><span class="p">:</span> <span class="s1">&#39;Valhall 2021&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VARG 2000&#39;</span><span class="p">:</span> <span class="s1">&#39;Varg 2000&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VEGA CONDENSATE 2015&#39;</span><span class="p">:</span> <span class="s1">&#39;Vega 2016&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VESLEFRIKK 2012&#39;</span><span class="p">:</span> <span class="s1">&#39;Veslefrikk 2012&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VILJE 2009&#39;</span><span class="p">:</span> <span class="s1">&#39;Vilje 2009&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VISUND 2009&#39;</span><span class="p">:</span> <span class="s1">&#39;Visund 2009&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VISUND CRUDE OIL 2020&#39;</span><span class="p">:</span> <span class="s1">&#39;Visund Crude Oil 2020&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VISUND SOR CONDENSATE 2020&#39;</span><span class="p">:</span> <span class="s1">&#39;Visund Sør Kondensat 2020&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VOLUND 2010&#39;</span><span class="p">:</span> <span class="s1">&#39;Volund 2010&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VOLVE 2006&#39;</span><span class="p">:</span> <span class="s1">&#39;Volve 2006&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WISTING 2015&#39;</span><span class="p">:</span> <span class="s1">&#39;Wisting 2015&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WISTING CENTRAL 2017&#39;</span><span class="p">:</span> <span class="s1">&#39;Wisting Central 2017&#39;</span><span class="p">,</span>
        <span class="s1">&#39;YME 2023&#39;</span><span class="p">:</span> <span class="s1">&#39;Yme 2023&#39;</span>
        <span class="p">}</span>


    <span class="c1">#o = o.loc[o[&#39;Oljetype&#39;] == &#39;Yme 2023&#39;]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Oljetype&#39;</span><span class="p">,</span> <span class="s1">&#39;Temperatur (°C)&#39;</span><span class="p">])[</span><span class="s1">&#39;Vanninnhold&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">to_string</span><span class="p">())</span>

    <span class="n">oilmax</span> <span class="o">=</span> <span class="p">{</span>  <span class="c1"># Some known limits not in NOFO excel file</span>
            <span class="s1">&#39;MARINE GAS OIL 500 ppm S 2017&#39;</span><span class="p">:</span>
                <span class="p">{</span><span class="s1">&#39;temperatures&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">15</span><span class="p">],</span> <span class="s1">&#39;max_water_fraction&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">.1</span><span class="p">]},</span>
            <span class="p">}</span>

    <span class="k">for</span> <span class="n">ot</span> <span class="ow">in</span> <span class="n">mapping</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">o</span><span class="p">[</span><span class="s1">&#39;Oljetype&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">mapping</span><span class="p">[</span><span class="n">ot</span><span class="p">]]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Temperatur (°C)&#39;</span><span class="p">])[</span><span class="s1">&#39;Vanninnhold&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">oilmax</span><span class="p">[</span><span class="n">ot</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;temperatures&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">),</span>
                      <span class="s1">&#39;max_water_fraction&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">values</span><span class="p">)}</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">oilmax</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;max_water_fraction.json&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
       <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">oilmax</span> <span class="p">,</span> <span class="n">json_file</span><span class="p">)</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">get_water_fractions</span><span class="p">()</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Knut-Frode Dagestad (knutfd@met.no) and Gaute Hope (gauteh@met.no)..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>